<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.discursive.com/docbook/xml/4.5/docbookx.dtd">
<chapter id="eclipse">
  <title>Using m2eclipse</title>

  <section id="eclipse-sect-enabling-console">
    <title>Enabling the Maven Console</title>

    <para>Before we begin to examine the features of m2eclipse, let’s first
    enable the Maven console. Open the Console View by going to
    <guimenu>Window</guimenu>, <guisubmenu>Show View</guisubmenu>,
    <guimenuitem>Console</guimenuitem>. Then click on the little arrow on the
    right-hand side of the Open Console icon and select Maven Console as shown
    below:</para>

    <figure>
      <title>Enabling the Maven Console in Eclipse</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata fileref="figs/web/eclipse_console.png" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/eclipse_console.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Maven Console shows the Maven output that normally appears on the
    console when running Maven from the command line. It is useful to be able
    to see what Maven is doing and to work with Maven debug output to diagnose
    issues.</para>
  </section>

  <section id="eclipse-sect-running-maven-builds">
    <title>Running Maven Builds</title>

    <para>m2eclipse modified the <guimenu>Run As...</guimenu> and
    <guimenu>Debug As...</guimenu> menus to allow you to run a Maven build
    within Eclipse. <xref linkend="fig-m2e-runas" /> shows the <guimenu>Run
    As...</guimenu> menu for an m2eclipse project. From this menu you can run
    one of the more common lifecycle phases like clean, install, or package.
    You can also load up the Run configuration dialog window and configure a
    Maven build with parameters and more options.</para>

    <figure id="fig-m2e-runas">
      <title>Running an Eclipse build with Run As..</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_run-menu.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/eclipse_run-menu.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>If you need to configure a Maven build with more options, you can
    choose <guimenuitem>Run Configurations...</guimenuitem> and create a new
    Maven build. <xref linkend="fig-m2e-runconf" /> shows the Run dialog for
    configuring a Maven build.</para>

    <figure id="fig-m2e-runconf">
      <title>Configuring a Maven Build as a Run Configuration</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_run-config.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_run-config.pdf" scalefit="0"
                     width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The Run configuration dialog allows you to specify multiple goals
    and profiles, it exposes options like "skip tests" and "update snapshots",
    and allows you to customize everything from the project to the JRE to the
    environment variable. You can use this dialog to support any custom Maven
    build that you wish to launch with m2eclipse.</para>
  </section>

  <section id="eclipse-sect-working-maven-projects">
    <title>Working with Maven Projects</title>

    <para>The m2eclipse plugin also provides a set of features for working
    with Maven projects once they are inside of Eclipse. There are many
    features that ease the ability to use Maven in Eclipse so let’s dive right
    into them. In the previous section, I materialized a Maven project and
    selected a subproject from the Apache Camel project named camel-core.
    We’ll use that project to demonstrate these features.</para>

    <para>By right-clicking on the camel-core project, and selecting the Maven
    menu item, you can see the available Maven features. <xref
    linkend="fig-eclipse-available-features" /> shows a screenshot of
    this:</para>

    <figure id="fig-eclipse-available-features">
      <title>Available Maven Features</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_available-features.png"
                     scalefit="1" width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_available-features.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Notice in <xref linkend="fig-eclipse-available-features" /> the
    available Maven features for the camel-core project,
    including:<itemizedlist>
        <listitem>
          <para>Adding dependencies and plugins</para>
        </listitem>

        <listitem>
          <para>Updating dependencies, snapshots and source folders</para>
        </listitem>

        <listitem>
          <para>Creating a Maven module</para>
        </listitem>

        <listitem>
          <para>Downloading the source</para>
        </listitem>

        <listitem>
          <para>Opening Project URLs such as the Project Web Page, Issue
          Tracker, Source Control, and Continuous Integration tool.</para>
        </listitem>

        <listitem>
          <para>Enabling/Disabling workspace resolution, nested Maven modules
          and dependency management</para>
        </listitem>
      </itemizedlist></para>

    <para>These features are also big time savers so let’s review them
    briefly.</para>

    <section id="eclipse-sect-adding-updating">
      <title>Adding and Updating Dependencies and Plugins</title>

      <para>Let’s say we’d like to add a dependency or a plugin to the
      <varname>camel-core</varname> <acronym>POM</acronym>. For the sake of
      demonstration, we're going to add <varname>commons-lang</varname> as a
      dependency. (Please note that the functionality for adding a dependency
      or a plugin is exactly the same so we’ll demonstrate it by adding a
      dependency.)</para>

      <para>m2eclipse offers two options for adding dependencies to a project.
      The first option is by manually editing the <acronym>POM</acronym> file
      to type in the <acronym>XML</acronym> to add the dependency. The
      downside to manually editing the <acronym>POM</acronym> file to add a
      dependency is that you must already know the information about the
      artifact, or use the features discussed in the next section to manually
      locate the artifact information in the repository indexes. The upside is
      that after manually adding the dependency and saving the
      <acronym>POM</acronym>, the project’s Maven Dependencies container will
      be automatically updated to include the new dependency. <xref
      linkend="fig-eclipse-manual-add" /> shows how I added a dependency for
      <varname>commons-lang</varname> to the <varname>camel-console</varname>
      <acronym>POM</acronym> and the Maven Dependencies container was
      automatically updated to included it:</para>

      <figure id="fig-eclipse-manual-add">
        <title>Manually Adding a Dependency to the Project's POM</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_add-manual-depend.png"
                       scalefit="1" width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_add-manual-depend.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Manually adding a dependency works well but requires more work
      than the second approach. Upon manually adding the dependency element to
      the <acronym>POM</acronym>, the Eclipse progress in the lower right-hand
      corner of the Eclipse workbench reflects the action as shown in <xref
      linkend="fig-eclipse-update-depends" />:</para>

      <figure id="fig-eclipse-update-depends">
        <title>Updating Maven Dependencies</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_updating-depends.png"
                       scalefit="1" width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_updating-depends.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>The second option for adding a dependency is much easier because
      you don’t have to know any information about the artifact other than its
      <varname>groupId</varname>. <xref linkend="fig-eclipse-search-depend" />
      shows this functionality:</para>

      <figure id="fig-eclipse-search-depend">
        <title>Searching for a Dependency</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_add-depend3.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_add-depend3.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>By simply entering a <varname>groupId</varname> into the query
      field, m2eclipse queries the repository indexes and even shows a version
      of the artifact that is currently in my local Maven repository. This
      option is preferred because it is such a tremendous time saver. With
      m2eclipse, you no longer need to hunt through the central Maven
      repository for an artifact version.</para>
    </section>

    <section id="eclipse-sect-creating-maven-module">
      <title>Creating a Maven Module</title>

      <para>m2eclipse makes it very easy to create a series of nested projects
      in a multi-module Maven project. If you have a parent project, and you
      want to add a module to the project, just right click on the project, go
      the Maven menu, and choose "New Maven Module Project". m2eclipse will
      walk you through the project creation process to create a new project,
      then it will update the parent project's POM to include the module
      reference. Before m2eclipse came along it was very difficult to use a
      hierarchy of Maven projects within Eclipse. With m2eclipse, the details
      of the underlying relationships between parent and child projects are
      integrated into the development environment.</para>
    </section>

    <section id="eclipse-sect-downloading-source">
      <title>Downloading Source</title>

      <para>If the central Maven repository contains a source artifact for a
      particular project, you can download the source from the repository and
      expose it to the Eclipse environment. When you are trying to debug a
      complex issue in Eclipse, nothing can be easier than being able to right
      click on a third-party dependency and drill into the code in the Eclipse
      debugger. Select this option, and m2eclipse will attempt to download the
      source artifact from the Maven repository. If it is unable to retrieve
      this source artifact, you should ask the maintainers of the project in
      question to upload the appropriate Maven source bundle to the central
      Maven repository.</para>
    </section>

    <section id="eclipse-sect-opening-project-pages">
      <title>Opening Project Pages</title>

      <para>A Maven <acronym>POM</acronym> contains some valuable
      <acronym>URL</acronym>s which a developer may need to consult. These are
      the project's web page, the <acronym>URL</acronym> for the source code
      repository, a <acronym>URL</acronym> for a continuous integration system
      like Hudson, and a <acronym>URL</acronym> for an issue tracker. If these
      <acronym>URL</acronym>s are present in a project's
      <acronym>POM</acronym>, m2eclipse will open these project pages in a
      browser.</para>
    </section>

    <section id="eclipse-sect-resolving-dependencies">
      <title>Resolving Dependencies</title>

      <para>You can configure a project to resolve dependencies from a
      workspace. This has the effect of altering the way that Maven locates
      dependency artifacts. If a project is configured to resolve dependencies
      from the workspace, these artifacts do not need to be present in your
      local repository. Assume that project-a and project-b are both in the
      same Eclipse workspace, and that project-a depends on project-b. If
      workspace resolution is disabled, the m2eclipse Maven build for
      <varname>project-a</varname> will only succeed if
      <varname>project-b</varname>'s artifact is present in the local
      repository. If workspace resolution is enabled, m2eclipse will resolve
      the dependency via the Eclipse workspace. In other words, when workspace
      resolution is enabled, project's don't have to be installed in the local
      repository to relate to one another.</para>

      <para>You can also disable dependency management. This has the effect of
      telling m2eclipse to stop trying to manage your project's classpath, and
      it will remove the Maven Dependencies classpath container from your
      project. If you do this, you are essentially on your own when it comes
      to managing your project's classpath.</para>
    </section>
  </section>

  <section id="eclipse-sect-working-repos">
    <title>Working with Maven Repositories</title>

    <para>m2eclipse also provides some tools to make working with Maven
    repositories a bit easier. These tools provide functionality
    for:<itemizedlist>
        <listitem>
          <para>Searching for Artifacts</para>
        </listitem>

        <listitem>
          <para>Searching for Java classes</para>
        </listitem>

        <listitem>
          <para>Indexing Maven repositories</para>
        </listitem>
      </itemizedlist></para>

    <section id="eclipse-sect-searching-artifacts">
      <title>Searching For Maven Artifacts and Java classes</title>

      <para>m2eclipse adds a couple of items to the Eclipse Navigation menu
      that make searching for Maven Artifacts and Java classes easy work. Each
      option is available by clicking on the <guimenu>Navigate</guimenu> menu
      as shown in <xref linkend="fig-eclipse-nav-search" />:</para>

      <figure id="fig-eclipse-nav-search">
        <title>Searching for Artifacts and Classes</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_navigate.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_navigate.pdf" scalefit="0"
                       width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Notice the available options in <xref
      linkend="fig-eclipse-nav-search" /> under the Eclipse
      <guimenu>Navigate</guimenu> menu named <guimenuitem>Open Maven
      POM</guimenuitem> and <guimenuitem>Open Type from Maven</guimenuitem>.
      The <guimenuitem>Open Maven POM</guimenuitem> option allows you to
      search the Maven repository for a given <acronym>POM</acronym> as shown
      in <xref linkend="fig-eclipse-search-pom" />:</para>

      <figure id="fig-eclipse-search-pom">
        <title>Searching for a POM</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_search-pom.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_search-pom.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Upon selecting an artifact and clicking <guibutton>OK</guibutton>,
      the <acronym>POM</acronym> for that artifact is opened in Eclipse for
      browsing or editing. This is handy when you need to take a quick look at
      the <acronym>POM</acronym> for a given artifact.</para>

      <para>The second m2eclipse option in the <guimenu>Navigate</guimenu>
      menu is named <guimenuitem>Open Type from Maven</guimenuitem>. This
      feature allows you to search for a Java class by name in a remote
      repository. Upon opening this dialog, simply type ‘factorybean’ and
      you’ll see many classes with the name <classname>FactoryBean</classname>
      in them as shown in <xref linkend="fig-eclipse-search-class" />:</para>

      <figure id="fig-eclipse-search-class">
        <title>Searching the Repository for a Class</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_search-class.png"
                       scalefit="1" width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_search-class.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>This is a big time saving feature because it means that manually
      searching through artifacts in a Maven repository for a particular class
      is a thing of the past. If you need to use a specific class, just fire
      up Eclipse, go to the <guimenu>Navigate</guimenu> menu and search for
      the class. m2eclipse will show you the list of artifacts in which it
      appears.</para>
    </section>

    <section id="eclipse-sect-indexing-repos">
      <title>Indexing Maven Repositories</title>

      <para>The Maven Indexes View allows you to manually navigate to
      <acronym>POM</acronym>s in a remote repository and open them in Eclipse.
      To see this View, go to <guiicon>View</guiicon>, <guisubmenu>Show
      View</guisubmenu>, <guimenuitem>Other</guimenuitem>, type the word
      "maven" into the search box and you should see a view named Maven
      Indexes as shown in <xref linkend="fig-eclipse-show-indexes" />:</para>

      <figure id="fig-eclipse-show-indexes">
        <title>Show Maven Indexes View</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_show-view.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/eclipse_show-view.pdf" scalefit="0"
                       width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Select this View and click <guibutton>OK</guibutton>. This will
      show the Maven Indexes View as shown in <xref
      linkend="fig-eclipse-indexes-view" />:</para>

      <figure id="fig-eclipse-indexes-view">
        <title>Maven Indexes View</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_indexes.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center" fileref="figs/print/eclipse_indexes.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Additionally, <xref linkend="fig-eclipse-indexes-find-pom" />
      shows the Maven Indexes View after manually navigating to locate a
      POM:</para>

      <figure id="fig-eclipse-indexes-find-pom">
        <title>Locating a POM from the Indexes View</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/eclipse_index2.png" scalefit="1"
                       width="100%" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center" fileref="figs/print/eclipse_index2.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>After finding the <varname>apache-camel</varname> artifact,
      double-clicking on it will open it up in Eclipse for browsing or
      editing.</para>

      <para>These features make working with remote repositories from inside
      of Eclipse so much easier and faster. After all the hours you may have
      spent doing these types of tasks by manually over the last few years -
      visiting repositories through a web browser, downloading artifacts and
      grepping through them for classes and POMs - you'll find that m2eclipse
      is a welcome change for the better.</para>
    </section>
  </section>

  <section id="eclipse-sect-pom-form">
    <title>Using the Form-based POM Editor</title>

    <para>The latest release of the m2eclipse plugin has a form-based
    <acronym>POM</acronym> editor which allows you to edit every part of a
    project's <filename>pom.xml</filename> with an easy-to-use
    <acronym>GUI</acronym> interface. To open the <acronym>POM</acronym>
    Editor, click on a project's <filename>pom.xml</filename> file. If you've
    customized the editors for a pom.xml file, and the POM Editor is not the
    default editor, you may need to right-click on the file and choose "Open
    With... / Maven POM Editor". The <acronym>POM</acronym> Editor will then
    display the Overview tab as shown in <xref
    linkend="fig-eclipse-pom-edit-overview" />.</para>

    <note>
      <para>The Form-based POM Editor is only available if you selected the
      POM Editor component when you installed the m2eclipse Eclipse plugin.
      For more information about installing the m2eclipse plugin, see <xref
      linkend="installing-sect-install-m2eclipse" />.</para>
    </note>

    <para>One common complaint about Maven is that it forces a developer to
    confront large and often overwhelming <acronym>XML</acronym> documents in
    a highly complex multi-module project build. While the authors of this
    book believe this is a small price to pay for the flexibility of a tool
    like Maven, the graphical <acronym>POM</acronym> editor is a tool that
    makes it possible for people to use Maven without ever having to know
    about the <acronym>XML</acronym> structure behind a Maven
    <acronym>POM</acronym>.</para>

    <figure id="fig-eclipse-pom-edit-overview">
      <title>Overview Tab of POM Editor for idiom-core</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_pom-editor.png" scalefit="1" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor.pdf" scalefit="0"
                     width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The project shown in <xref
    linkend="fig-eclipse-pom-edit-overview" /> is a project with an
    <varname>artifactId</varname> of of <varname>idiom-core</varname>. You'll
    notice that most of the fields in this <varname>idiom-core</varname>
    project are blank. There is no <varname>groupId</varname> or
    <varname>version</varname> and there is no <acronym>SCM</acronym>
    information supplied in the <acronym>POM</acronym> editor. This is due to
    the fact that <varname>idiom-core</varname> inherits most of this
    information from a parent project named <varname>idiom</varname>. If we
    open the <filename>pom.xml</filename> for the parent project in the
    <acronym>POM</acronym> Editor we would see the Overview tab shown in <xref
    linkend="fig-eclipse-pom-editor-overview-parent" />.</para>

    <para>That “open folder” icon on the various list entries throughout the
    <acronym>POM</acronym> editor indicate that the corresponding entry is
    present in the Eclipse workspace and “jar” icon indicates artifacts which
    are referenced from the Maven repository. You can double-click on those
    entries in order to open its POM in the POM editor. This works for
    modules, dependencies, plugins and other elements that have corresponding
    Maven artifacts. Underlined labels in several <acronym>POM</acronym>
    editor sections represent hyperlinks which can be used to open the
    <acronym>POM</acronym> editor for corresponding Maven artifact.</para>

    <figure id="fig-eclipse-pom-editor-overview-parent">
      <title>Overview Tab of POM Editor for idiom Parent Project</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_pom-editor-parent.png"
                     scalefit="1" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-parent.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>In this parent <acronym>POM</acronym>, we see that the
    <varname>groupId</varname> and <varname>version</varname> are defined and
    that the parent <acronym>POM</acronym> supplies much of the information
    which was missing in the <varname>idiom-core</varname> project. The
    <acronym>POM</acronym> editor is going to show you the contents of the
    <acronym>POM</acronym> that you are editing, and it will not show you any
    of the inherited values. If you wanted to look at the
    <varname>idiom-core</varname> project's effective <acronym>POM</acronym>
    in the <acronym>POM</acronym> editor, you can use “Show Effective POM”
    action from the tool-bar in the upper right-hand corner of the
    <acronym>POM</acronym> editor, which shows a left bracket and an equals
    sign on a page with a blue M. It will load the effective
    <acronym>POM</acronym> for <varname>idiom-code</varname> in the
    <acronym>POM</acronym> Editor as shown in <xref
    linkend="fig-eclipse-pom-editor-effective" />.</para>

    <figure id="fig-eclipse-pom-editor-effective">
      <title>Effective POM for idiom-core</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata fileref="figs/web/eclipse_pom-editor-effective.png" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-effective.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>This effective view of the <acronym>POM</acronym> merges the
    <varname>idiom-core</varname> <acronym>POM</acronym> with the ancestor
    <acronym>POM</acronym>s (the parent, the grandparent, etc.), similarly to
    “mvn help:effective-pom” command and displays the <acronym>POM</acronym>
    editor with the effective values. Because the <acronym>POM</acronym>
    editor is display a composite view of many different merged
    <acronym>POM</acronym>s, this effective <acronym>POM</acronym> Editor is
    read-only, and you will not be able to update any of the fields in this
    effective <acronym>POM</acronym> view.</para>

    <para>If you were looking at the <acronym>POM</acronym> editor for the
    idiom-core project as shown in <xref
    linkend="fig-eclipse-pom-edit-overview" />, you can also navigate to the
    parent <acronym>POM</acronym> using, ”Open Parent POM” action from the POM
    editor tool-bar in the upper right-hand of the <acronym>POM</acronym>
    editor.</para>

    <para>The <acronym>POM</acronym> editor shows a number of showing various
    information from the <acronym>POM</acronym>. The final tab exposes the
    <filename>pom.xml</filename> as an <acronym>XML</acronym> document. There
    is a dependencies tab shown in <xref
    linkend="fig-eclipse-pom-editor-dependencies" /> which exposes an
    easy-to-use interface for adding and editing dependencies to your project,
    as well as editing the <sgmltag>dependencyManagement</sgmltag> section of
    the <acronym>POM</acronym>. This dependency management screen is also
    integrated with the artifact searching facilities in the m2eclipse plugin.
    You can use actions from the editor sections, as well as Ctrl-Space typing
    assistance for the fields in “Dependency Details” section.</para>

    <para>If you need to know more about one of the artifacts, you can use
    “Open Web Page” action from “Dependency Details” section tool-bar to check
    the project web page.</para>

    <figure id="fig-eclipse-pom-editor-dependencies">
      <title>Dependencies Tab of the POM Editor</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_pom-editor-dependencies.png"
                     scalefit="1" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-dependencies.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The build tab shown in <xref
    linkend="fig-eclipse-pom-editor-build" /> provides access to the contents
    of the build element. From this tab you can customize source directories,
    add extensions, change the default goal name, and add resources
    directories.</para>

    <figure id="fig-eclipse-pom-editor-build">
      <title>Build Tab of the POM Editor</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_pom-editor-build.png"
                     scalefit="1" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-build.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>We only showed a small subset of the <acronym>POM</acronym> editor.
    If you are interested in seeing the rest of the tabs, please download and
    install the m2eclipse plugin.</para>
  </section>

  <section id="eclipse-sect-analyze-depend">
    <title>Analyzing Project Dependencies in m2eclipse</title>

    <para>The latest release of m2eclipse contains a <acronym>POM</acronym>
    editor which provides some dependency analysis tools. These tools promise
    to change the way people maintain and monitor a project's transitive
    dependencies. One of the main attractions to Maven is the fact that it
    manages a project's dependencies. If you are writing an application which
    depends on the Spring Framework's Hibernate3 integration, all you need to
    do is depend on the <varname>spring-hibernate3</varname> artifact from the
    Central Maven Repository. Maven then reads this artifact's
    <acronym>POM</acronym> and adds all of the necessary transitive
    dependencies. While this is a great feature that attracts people to using
    Maven in the first place, it can often become confusing with a project
    starts to depend on tens of dependencies, each with tens of transitive
    dependencies.</para>

    <para>Problems start to happen when you depend on a project with a poorly
    crafted <acronym>POM</acronym> which fails to flag dependencies as
    optional, or when you start encountering conflicts between transitive
    dependencies. If one of your requirements is to exclude a dependency like
    <varname>commons-logging</varname> or the <varname>servlet-api</varname>,
    or if you need to find out why a certain dependency is showing up under a
    specific scope you will frequently need to invoke the
    <varname>dependency:tree</varname> and
    <varname>dependency:resolve</varname> goals from the command-line to track
    down the offending transitive dependencies.</para>

    <para>This is where the <acronym>POM</acronym> editor in m2eclipse comes
    in handy. If you open a project with many dependencies, you can open the
    Dependency Tree tab and see a two-column display of dependencies as shown
    in <xref linkend="fig-eclipse-pom-editor-dependency-tree" />. The
    left-side of the panel displays a tree of dependencies. The first level of
    the tree consists of direct dependencies from your project, and each
    subsequent level lists the dependencies of each dependency. The left-hand
    side is a great way to figure out how a specific dependency made its way
    into your project's resolved dependencies. The right-hand side of this
    panel displays the resolved dependencies. This is the list of effective
    dependencies after all conflicts and scopes have been applied, and it is
    the effective list of dependencies that your project will use for
    compilation, testing, and packaging.</para>

    <figure id="fig-eclipse-pom-editor-dependency-tree">
      <title>Dependency Tree Tab of the POM Editor</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_pom-editor-depend-tree.png"
                     scalefit="1" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-depend-tree.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The feature which makes the Dependency Tree tab so valuable is that
    it can be used as an investigative tool to figure out how a specific
    dependency made it into the list of resolved dependencies. Searching and
    filtering functionality available in the editor makes it really easy to
    search and browse trough the project dependencies. You can use “Search”
    entry field from the editor tool-bar and “Sort” and “Filter” actions from
    “Dependency Hierarchy” and “Resolved Dependencies” sections to navigate
    trough dependencies. <xref
    linkend="fig-eclipse-pom-editor-locate-depend" /> shows what happens when
    you click on commons-logging in the "Resolved Dependencies" list. When
    filtering is enabled in “Dependencies Hierarchy” section, clicking on a
    resolved dependency filters the hierarchy on the left-hand side of the
    panel to show all of the node which contributed to the resolved
    dependency. If you are trying to get rid of a resolved dependency, you can
    use this tool to find out what dependencies (and what transitive
    dependencies) are contributing the artifact to your resolved dependencies.
    In other words, if you are trying to get rid of something like
    <varname>commons-logging</varname> from your dependency set, the
    Dependency Tree tab is the tool you will likely want to use.</para>

    <figure id="fig-eclipse-pom-editor-locate-depend">
      <title>Locating Dependencies in the Dependency Tree</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata fileref="figs/web/eclipse_pom-editor-depend-tree-locate.png" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-depend-tree-locate.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>m2eclipse also provides you with the ability to view your project's
    dependencies as a graph. <xref linkend="fig-eclipse-pom-editor-graph" />
    shows the dependencies of <varname>idiom-core</varname>. The top-most box
    is the <varname>idiom-core</varname> project and the other dependencies
    are shown below it. Direct dependencies are linked from the top box and
    the transitive dependencies are linked from those. You can select a
    specific node in the graph to highlight the linked dependencies, or you
    can use the Search field at the top of the page to find matching
    nodes.</para>

    <para>Note that “open folder” icon on each graph node indicates that the
    corresponding artifact is present in the Eclipse workspace and “jar” icon
    indicates that the node's artifact is referenced from the Maven
    repository.</para>

    <figure id="fig-eclipse-pom-editor-graph">
      <title>Viewing the Dependencies of a Project as a Graph</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata fileref="figs/web/eclipse_pom-editor-graph.png" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-graph.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The graph presentation can be changed by right clicking in the
    editor. You can choose to show artifact ids, group ids, versions, scopes,
    or if you want to wrap node text or show icons. <xref
    linkend="fig-eclipse-pom-editor-graph-radial" /> shows the same graph from
    <xref linkend="fig-eclipse-pom-editor-graph" /> with a radial
    layout.</para>

    <figure id="fig-eclipse-pom-editor-graph-radial">
      <title>Radial Layout of Dependency Graph</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata fileref="figs/web/eclipse_pom-editor-graph-radial.png" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_pom-editor-graph-radial.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>
  </section>

  <section id="eclipse-sect-maven-preferences">
    <title>Maven Preferences</title>

    <para>The ability to adjust the Maven preferences and some Maven options
    is an important aspect of developing with Maven and m2eclipse offers the
    ability to tweak these items via the Maven preferences page inside of
    Eclipse. Typically when using Maven on the command line, such preferences
    and options are available from files in your <filename>~/.m2</filename>
    directory and as command line options. m2eclipse provides access to some
    of the most important preferences and options from the Eclipse
    <acronym>IDE</acronym>. <xref linkend="fig-eclipse-maven-preferences" />
    shows the Maven preferences page in Eclipse:</para>

    <figure id="fig-eclipse-maven-preferences">
      <title>Maven Preferences for Eclipse</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_preferences.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_preferences.pdf" scalefit="0"
                     width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>The check boxes in the top section provide the ability
    to:<itemizedlist>
        <listitem>
          <para>Run Maven in Offline mode, disabling any downloads from remote
          repositories</para>
        </listitem>

        <listitem>
          <para>Enable Debug output in the Maven Console</para>
        </listitem>

        <listitem>
          <para>Download Source jars for artifacts from remote Maven
          repositories</para>
        </listitem>

        <listitem>
          <para>Download JavaDoc jars for artifacts from remote Maven
          repositories</para>
        </listitem>

        <listitem>
          <para>Download and Update local indexes for remote repositories on
          startup</para>
        </listitem>
      </itemizedlist></para>

    <para>The next section offers a pop-up menu to select which goal you’d
    like to be executed when a project is imported and when the source folders
    for a given project are updated. The default goal is named
    <varname>process-resources</varname> which copies and process the
    resources for the project into the destination directory to make the
    project ready for packaging. Customizing this list of goals can come in
    handy if you need to run any custom goals which process resources or
    generate supporting configuration.</para>

    <para>If you need help selecting a goal, click the
    <guibutton>Select...</guibutton> button to see the "Goals" dialog. The
    dialog on the left-hand side of<xref
    linkend="fig-eclipse-goal-lifecycle" /> shows the Goals dialog with a list
    of all the phases in the default Maven lifecycle.</para>

    <figure id="fig-eclipse-goal-lifecycle">
      <title>Maven Goal Dialogs</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_preference-goals.png"
                     scalefit="1" width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_preference-goals.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>When you see the Goals dialog for the first time, there's a chance
    you might be overwhelmed by the number of goals it lists. There are
    literally hundreds of Maven plugins for everything from generating a
    database, to running integration tests, to performing static analysis, to
    generating web services with XFire. There are over two hundred plugins
    with selectable goals in the Goals dialog, the dialog on the right-hand
    side of<xref linkend="fig-eclipse-goal-lifecycle" /> shows the "Goals"
    dialog with the Tomcat Maven plugin's goals highlighted. You can always
    narrow the list of goals shown in this dialog by typing in some text to
    the search dialog, as you type in text, m2eclipse is going to narrow the
    list of available goals to goals which contain the text in the search
    field.</para>

    <para>Another Maven preference page is the Maven Installations
    configuration page shown in <xref
    linkend="fig-eclipse-maven-installations" />:</para>

    <figure id="fig-eclipse-maven-installations">
      <title>Maven Installations Preference Page</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_preferences2.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center"
                     fileref="figs/print/eclipse_preferences2.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>This page allows you to add other Maven installations to the Eclipse
    environment. If you want to use a different version of Maven with the
    m2eclipse plugin you can configure multiple installations of Maven from
    this configuration page, this is very similar to the ability to add more
    than one Java Virtual Machine to be run inside of Eclipse. An embedded
    version of the Maven known as the Maven Embedder is already specified.
    This is what is used to execute Maven inside of Eclipse. If you have
    another installation of Maven which you would like to use instead of the
    Maven Embedder, you can add another Maven runtime by clicking on the
    <guibutton>Add..</guibutton> button. <xref
    linkend="fig-eclipse-maven-installations" /> shows a configuration page
    that lists the Maven Embedder, Maven 2.0.9, and an installation of Maven
    2.1-SNAPSHOT.</para>

    <para>The Installations configuration page also allows you to specify the
    location of the global Maven settings file. If you do not specify the
    location of this file on this configuration page, Maven will use the
    default global settings file found in
    <filename>conf/settings.xml</filename> of the selected Maven installation.
    You can also customize the location of your user settings file from the
    default location of <filename>~/.m2/settings.xml</filename>, and you can
    customize the location of your local Maven repository from the default
    location of <filename>~/.m2/repository</filename>.</para>

    <para>Also available in the Eclipse preferences is the ability to enable a
    decorator named the Maven Version Decorator. This preference provides a
    given project’s current version on the Eclipse Package Explorer and is
    shown in <xref linkend="fig-eclipse-mvn-decorate" />.</para>

    <figure id="fig-eclipse-mvn-decorate">
      <title>Enabling the Maven Version Decorator</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_decorate.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/eclipse_decorate.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>To enable this preference, simply check the Maven Version Decorator
    option that is highlighted in <xref linkend="fig-eclipse-mvn-decorate" />.
    If the Maven Version Decorator is not enabled, a project will only list
    it’s name and relative path in the Package Explorer as shown in <xref
    linkend="fig-eclipse-no-decorate" />:</para>

    <figure id="fig-eclipse-no-decorate">
      <title>Package Explorer without Maven Version Decorator</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_decorate2.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/eclipse_decorate2.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Upon enabling the Maven Version Decorator, the project name will
    include the current project version as shown in <xref
    linkend="fig-eclipse-decorated" />:</para>

    <figure id="fig-eclipse-decorated">
      <title>Package Explorer with Maven Version Decorator Enabled</title>

      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/eclipse_decorate3.png" scalefit="1"
                     width="100%" />
        </imageobject>

        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/eclipse_decorate3.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>This is a helpful feature that provides the project version at a
    glance instead of being required to open the <acronym>POM</acronym> to
    locate the version element.</para>
  </section>

  <section id="eclipse-sect-repo-view">
    <title>Browsing and Manipulating Maven Repositories</title>

    <para>The m2eclipse plugin allows you to browse and manipulate repository
    indexes. Using the Maven Repository view in m2eclipse you can:</para>

    <itemizedlist>
      <listitem>
        <para>Browse your Local Maven repository</para>
      </listitem>

      <listitem>
        <para>Browse global repositories such as the Central Maven
        repository</para>
      </listitem>

      <listitem>
        <para>Browse a repository which captures artifacts generated by Maven
        projects in your Eclipse workspace</para>
      </listitem>

      <listitem>
        <para>Rebuild a Nexus Index from scratch</para>
      </listitem>

      <listitem>
        <para>Update a Nexus Index with incremental changes</para>
      </listitem>

      <listitem>
        <para>Modify the scope of repository indexing with a "minimal" or
        "full" index</para>
      </listitem>

      <listitem>
        <para>Disable Indexing for a repository</para>
      </listitem>

      <listitem>
        <para>Materialize a Maven project from information stored in a
        POM</para>
      </listitem>
    </itemizedlist>

    <section>
      <title>Opening the Maven Repository View</title>

      <para>To browse Maven repositories and to manipulate repository indexes
      open the Maven Repositories view by selecting
      <guimenu>Windows</guimenu>, <guisubmenu>Show View</guisubmenu>,
      <guimenuitem>Other...</guimenuitem> as shown in <xref lang=""
      linkend="fig-repo-view_show-view-other" />.</para>

      <figure id="fig-repo-view_show-view-other">
        <title>Opening a View in Eclipse</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_show-view-other.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_show-view-other.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once you select <guimenuitem>Other...</guimenuitem> Eclipse will
      display a dialog containing all available views. Select the Maven
      Repositories view under the Maven folder in the <guilabel>Show
      View</guilabel> dialog as shown in <xref
      linkend="fig-repo-view_show-view" />.</para>

      <figure id="fig-repo-view_show-view">
        <title>Selecting the Maven Repositories View in the Show View
        Dialog</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_show-view.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_show-view.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once you have selected Maven Repositories and clicked on the OK
      button, Eclipse will then load the Maven Repositories view. This view
      contains three folders:</para>

      <variablelist>
        <varlistentry>
          <term>Local Repositories</term>

          <listitem>
            <para>This folder contains your local Maven repository which is
            stored in ~/.m2/repository by default. It also contains a
            repository that represents the Maven projects contained in your
            Eclipse workspace.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Global Repositories</term>

          <listitem>
            <para>This folder contains any global Maven repositories that are
            referenced by all Maven projects. This folder contains the Central
            Maven repository under the repository identifier of "central". It
            will also contain mirrors that have been configured in your Maven
            Settings (<filename>~/.m2/settings.xml</filename>).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Project Repositories</term>

          <listitem>
            <para>This folder contains repositories which are defined by your
            projects. These repositories are present either in your project's
            <filename>pom.xml</filename> file or in an active Maven
            Profile.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section>
      <title>Browsing Global Repositories</title>

      <para>If you have been using Maven, you are familiar with the Central
      Maven repository. This is default repository from which Maven will
      retrieve dependencies and other artifacts needed during a build. If you
      expand the central repository, you will be able to browse the contents
      of the repository and double click on specific artifacts.
      Double-clicking on one of the artifacts shown in <xref
      linkend="fig-repo-view_browsing-remote-repo" /> will load that
      artifact's POM in the Form-based POM Editor.</para>

      <figure id="fig-repo-view_browsing-remote-repo">
        <title>Browsing a Global Repository</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_browsing-remote-repo.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_browsing-remote-repo.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>In addition to loading an artifact's POM in the Form-based POM
      Editor, you can also right click on a artifact and choose
      <guimenuitem>Materialize Project</guimenuitem>. If the POM for a
      particular artifact contains valid SCM information, m2eclipse can
      "materialize" the project from source control into your
      workspace.</para>
    </section>

    <section>
      <title>Browsing Your Workspace Repository</title>

      <para>m2eclipse maintains an index of artifacts generated by your
      Eclipse workspace. This "workspace" repository is shown in <xref
      linkend="fig-repo-view_workspace-repo" /> under the Local Repository
      folder. If you expand this folder, you will see artifacts that
      correspond to your workspace project as shown in <xref
      linkend="fig-repo-view_workspace-repo" />.</para>

      <figure id="fig-repo-view_workspace-repo">
        <title>Browsing the m2eclipse Workspace Repository</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_workspace-repo.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_workspace-repo.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Browsing a Project Repository</title>

      <para>The Maven Repositories view is also intelligent enough to keep
      track of any repositories that have been added to your project via your
      Maven Settings, an active Maven Profile, or that have been added
      directly to a project's POM. To demonstrate this feature, add a
      repository element to a pom.xml, by loading the Form-based POM Editor
      and clicking on the Repositories tab. Click on the "Create..." button
      and add a new repository with the following values as shown in <xref
      linkend="fig-repo-view_adding-project-repo" />.</para>

      <itemizedlist>
        <listitem>
          <para>Repository Identifier: flexmojos</para>
        </listitem>

        <listitem>
          <para>Repository Name: Flexmojos Repository</para>
        </listitem>

        <listitem>
          <para>URL:
          http://repository.sonatype.org/content/groups/flexgroup/</para>
        </listitem>
      </itemizedlist>

      <note>
        <para>You will only see the Repositories tab in your Form-based POM
        Editor, if you have set your Maven preferences to "Show advanced tabs
        in the POM Editor" under <guimenu>Eclipse</guimenu>,
        <guimenu>Preferences...</guimenu>, <guimenuitem>Maven</guimenuitem>,
        <guimenuitem>POM Editor</guimenuitem>.</para>
      </note>

      <figure id="fig-repo-view_adding-project-repo">
        <title>Adding a Repository to a Project's POM</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_adding-project-repo.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_adding-project-repo.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Save the POM and open the <filename>pom.xml</filename> tab in the
      POM Editor. The project's <filename>pom.xml</filename> should contain
      the repositories element shown in <xref
      linkend="fig-repo-view_adding-project-repo-xml" />.</para>

      <figure id="fig-repo-view_adding-project-repo-xml">
        <title>Project POM with a Custom Repository</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_adding-project-repo-xml.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_adding-project-repo-xml.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Now that the <filename>pom.xml</filename> contains a custom
      repository, click on the refresh icon shown in the upper right-hand of
      <xref linkend="fig-repo-view_project-repos" />. The refresh icon looks
      like two opposing yellow arrows, and clicking this icon will cause the
      Maven Repositories view to refresh the list of repositories from the
      selected project and your configured Maven settings.</para>

      <figure id="fig-repo-view_project-repos">
        <title>Browsing a Project Repository</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_project-repos.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_project-repos.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once you have added a project repository and clicked on the
      refresh icon in the Maven Respositories view, you will be able to view
      the project-specific repository and manipulate the repository index for
      this project-specific repository.</para>
    </section>

    <section>
      <title>Browsing Your Local Repository</title>

      <para>The Maven Repostitories view allows you to browse and manipulate
      your local Maven repository index. m2eclipse maintains an index for the
      contents of your local repository, you can use this interface to browse
      artifacts that have been loaded into your local repository as shown in
      <xref linkend="fig-repo-view_browsing-local-repo" />.</para>

      <figure id="fig-repo-view_browsing-local-repo">
        <title>Browsing Your Local Maven Repository</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_browsing-local-repo.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_browsing-local-repo.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Manipulating a Repository Index</title>

      <para>Every repository that m2eclipse uses is indexed by the Nexus
      Indexer. If m2eclipse is using a remote repository, it will download a
      Nexus index from the remote repository. If m2eclipse is managing a local
      repository (local or workspace) it will use the open source Nexus
      indexer to create and maintain a local index. This index is what allows
      you to quickly search for and locate dependencies by artifactId,
      groupId, version, or classname. You can manipulate the index that is
      associated with a Maven repository by right-clicking on a repository in
      the Maven Repositories view and selecting one of the following
      actions:</para>

      <variablelist>
        <varlistentry>
          <term>Update Index</term>

          <listitem>
            <para>This will update the index by running an incremental update
            or by downloading and index from a remote repository.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Rebiuld Index</term>

          <listitem>
            <para>This will rebuild an index for a local repository by
            iterating through the contents of a repository and recreating a
            Nexus index from scratch. This can be a useful tool if there is
            another process outside of Eclipse that is going to be modifying a
            local Maven repository.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Disable Index</term>

          <listitem>
            <para>Choosing this option causes m2eclipse to skip index
            generation for a repository. This can come in handy if you have a
            series of repositories which you do not want to include in
            artifact searches. If your organization maintains a number of
            specialized, segregated repositories that hold snapshots, you may
            not want to include these artifacts in simple searches for
            artifacts that contain a particular identifier or class.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <figure id="fig-repo-view_update-remote-index">
        <title>Updating a Repository Index</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/repo-view_update-remote-index.png" />
          </imageobject>

          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/repo-view_update-remote-index.pdf"
                       scalefit="0" width="100%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para><xref linkend="fig-repo-view_update-remote-index" /> shows two
      indexing options that control the scope of a particular Nexus
      index:</para>

      <variablelist>
        <varlistentry>
          <term>Enable Min Index</term>

          <listitem>
            <para>Configures the Nexus Indexer to maintain a minimal index
            that doesn't contain information about class names.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Enable Full Index</term>

          <listitem>
            <para>Configures the Nexus Indexer to maintain a full Index that
            includes the class names contained within each artifact.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>

  <section id="eclipse-sect-summary">
    <title>Summary</title>

    <para>m2eclipse is more than just a simple plugin which adds Maven support
    to Eclipse, it is a comprehensive integration that will make everything
    from creating new projects to locating third-party dependencies orders of
    magnitude easier. m2eclipse is the first step toward an
    <acronym>IDE</acronym> that is aware of the rich semantic treasure that is
    the central Maven repository. As more people come to use m2eclipse, more
    projects are going to be releasing Maven Archetypes, and more projects are
    going to see value in publishing source artifacts to the Maven repository.
    If you've tried to use Eclipse and Maven together without a tool that can
    comprehend the hierarchical project relationships that are central to any
    multi-module Maven project, you will know that the ability to work with
    nested projects is essential to smooth integration between the Eclipse
    <acronym>IDE</acronym> and Maven.</para>
  </section>
</chapter>
